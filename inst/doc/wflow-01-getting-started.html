<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="John Blischak" />

<meta name="date" content="2018-04-20" />

<title>Getting started with workflowr</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">Getting started with workflowr</h1>
<h3 class="subtitle"><em>workflowr version 1.0.1</em></h3>
<h4 class="author"><em>John Blischak</em></h4>
<h4 class="date"><em>2018-04-20</em></h4>


<div id="TOC">
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#start-the-project">Start the project</a></li>
<li><a href="#build-the-website">Build the website</a></li>
<li><a href="#publish-the-website">Publish the website</a></li>
<li><a href="#deploy-the-website">Deploy the website</a></li>
<li><a href="#add-a-new-analysis-file">Add a new analysis file</a></li>
<li><a href="#the-workflow">The workflow</a></li>
<li><a href="#next-steps">Next steps</a></li>
<li><a href="#further-reading">Further reading</a></li>
</ul>
</div>

<p>The workflowr R package helps scientists organize their research in a way that promotes effective project management, reproducibility, collaboration, and sharing of results. Workflowr combines literate programming (knitr and rmarkdown) and version control (Git, via git2r) to generate a website containing time-stamped, versioned, and documented results. Any R user can quickly and easily adopt workflowr.</p>
<p>This tutorial assumes you have already followed the <a href="https://jdblischak.github.io/workflowr/index.html#installation">installation instructions</a>. Specifically, you need to have R, pandoc (or RStudio), and workflowr installed on your computer. Furthermore, you need a GitHub account.</p>
<div id="overview" class="section level2">
<h2>Overview</h2>
<p>A workflowr project has two key components:</p>
<ol style="list-style-type: decimal">
<li><p>An R Markdown-based website. This consists of a configuration file (<code>_site.yml</code>), a collection of R Markdown files, and their corresponding HTML files.</p></li>
<li><p>A Git repository. Git is a <a href="https://en.wikipedia.org/wiki/Version_control">version control system</a> that helps track code development<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a>. Workflowr is able to run the basic Git commands, so there is no need to install Git prior to using workflowr.</p></li>
</ol>
<p>One of the main goals of workflowr is to help make your research more transparent and reproducible. This is achieved by displaying multiple “reproducibility checks” at the top of each analysis, including the unique identifier that Git assigns a snapshot of your code (or “commit” as Git calls it), so you always know which version of the code produced the results.</p>
</div>
<div id="start-the-project" class="section level2">
<h2>Start the project</h2>
<p>To start a new project, open R (or RStudio) and load the workflowr package (note that all the code in this vignette should be run directly in the R console, i.e. do <strong>not</strong> try to run workflowr functions inside of R Markdown documents).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;workflowr&quot;</span>)</code></pre></div>
<pre><code>## Loading required package: rmarkdown</code></pre>
<pre><code>## This is workflowr version 1.0.1
## Run ?workflowr for help getting started</code></pre>
<p>If you have never created a Git repository on your computer before, you need to run the following command to tell Git your name and email. Git uses this information to assign the changes you make to the code to you (analogous to how Track Changes in a Microsoft Office Word document assigns your changes to you). You do not need to use the exact same name and email as you used for your GitHub account. Also, you only need to run this command once per computer, and all subsequent workflowr projects will use this information (you can also update it at any time by re-running the command with different input).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Replace the example text with your information</span>
<span class="kw">wflow_git_config</span>(<span class="dt">user.name =</span> <span class="st">&quot;Your Name&quot;</span>, <span class="dt">user.email =</span> <span class="st">&quot;email@domain&quot;</span>)</code></pre></div>
<p>Now you are ready to start your first workflowr project! <code>wflow_start(&quot;myproject&quot;)</code> creates a directory called <code>myproject/</code> that contains all the files to get started. It also changes the working directory to <code>myproject/</code><a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a> and initializes a Git repository with the initial commit already made.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">wflow_start</span>(<span class="st">&quot;myproject&quot;</span>)</code></pre></div>
<pre><code>## Project &quot;myproject&quot; started in /private/var/folders/5b/hbjnbkkd0t957rs24vxgvw200000gn/T/RtmpkX7OLH/wflow-01-getting-started-133227d3c881/myproject</code></pre>
<pre><code>## Git repository initialized.</code></pre>
<p><code>wflow_start()</code> created the following directory structure in <code>myproject/</code>:</p>
<pre><code>myproject/
├── .gitignore
├── .Rprofile
├── _workflowr.yml
├── analysis/
│   ├── about.Rmd
│   ├── index.Rmd
│   ├── license.Rmd
│   └── _site.yml
├── code/
│   ├── README.md
├── data/
│   └── README.md
├── docs/
├── myproject.Rproj
├── output/
│   └── README.md
└── README.md</code></pre>
<p>At this point, you have a minimal but complete workflowr project; that is, you have all the files needed to use the main workflowr commands and publish a research website. Later on, as you get more comfortable with the basic setup, you can modify and add to the initial file structure. The overall rationale for this setup is to help organize the files that will be commonly included in a data analysis project. However, not all of these files are required to use workflowr.</p>
<p>The two <strong>required</strong> subdirectories are <code>analysis/</code> and <code>docs/</code>. These directories should never be removed from the workflowr project.</p>
<ul>
<li><p><code>analysis/</code>: This directory contains all the source R Markdown files for implementing the data analyses for your project. It also contains a special R Markdown file, <code>index.Rmd</code>, that does not contain any R code, but will be used to generate <code>index.html</code>, the homepage for your website. In addition, this directory contains the important configuration files <code>_site.yml</code>, which you can use to edit the theme, navigation bar, and other website aesthetics. Do not delete <code>index.Rmd</code> or <code>_site.yml</code>.</p></li>
<li><p><code>docs/</code>: This directory contains all the HTML files for your website. The HTML files are built from the R Markdown files in <code>analysis/</code>. Furthermore, any figures created by the R Markdown files are saved here. Each of these figures is saved according to the following pattern: <code>docs/figure/&lt;insert Rmd filename&gt;/&lt;insert chunk name&gt;-#.png</code>, where <code>#</code> corresponds to which of the plots the chunk generated (since one chunk can produce an arbitrary number of plots).</p></li>
</ul>
<p>The workflowr-specific configuration file is <code>_workflowr.yml</code>. It will apply the workflowr reproducibility checks consistently across all your R Markdown files. The most critical setting is <code>knit_root_dir</code>, which determines the directory where the files in <code>analysis/</code> will be executed. The default is to execute the code in the root of the project where <code>_workflowr.yml</code> is located (i.e. <code>&quot;.&quot;</code>). To instead execute the code from <code>analysis/</code>, change the setting to <code>knit_root_dir: &quot;analysis&quot;</code>. See <code>?wflow_html</code> for more details.</p>
<p>Also required is the RStudio project file, in this example <code>myproject.Rproj</code>. Even if you are not using RStudio, do not delete this file because the workflowr functions rely on it to determine the root directory of the project.</p>
<p>The <strong>optional</strong> directories are <code>data/</code>, <code>code/</code>, and <code>output/</code>. These directories are suggestions for organizing your data analysis project, but can be removed if you do not find them useful.</p>
<ul>
<li><p><code>data/</code>: This directory is for raw data files.</p></li>
<li><p><code>code/</code>: This directory is for code that might not be appropriate to include in R Markdown format (e.g. for pre-processing the data, or for long-running code).</p></li>
<li><p><code>output/</code>: This directory is for processed data files and other outputs generated from the code and data. For example, scripts in <code>code</code> that pre-process raw data files from <code>data/</code> should save the processed data files in <code>output/</code>.</p></li>
</ul>
<p>The <code>.Rprofile</code> file is a regular R script that is run once when the project is opened. It contains the call <code>library(&quot;workflowr&quot;)</code>, ensuring that workflowr is loaded automatically each time a workflowr-project is opened.</p>
</div>
<div id="build-the-website" class="section level2">
<h2>Build the website</h2>
<p>You will notice that the <code>docs/</code> directory is currently empty. That is because we have not yet generated the website from the <code>analysis/</code> files. This is what we will do next.</p>
<p>To build the website, run the function <code>wflow_build()</code> in the R console:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">wflow_build</span>()</code></pre></div>
<pre><code>## Building 3 file(s):</code></pre>
<pre><code>## Building analysis/about.Rmd</code></pre>
<pre><code>## Building analysis/index.Rmd</code></pre>
<pre><code>## Building analysis/license.Rmd</code></pre>
<pre><code>## Summary from wflow_build
## 
## Settings:
##  make: TRUE
## 
## The following were built externally each in their own fresh R
## session: 
## 
## docs/about.html
## docs/index.html
## docs/license.html
## 
## Log files saved in
## /var/folders/5b/hbjnbkkd0t957rs24vxgvw200000gn/T/RtmpkX7OLH/workflowr</code></pre>
<p>This command builds all the R Markdown files in <code>analysis/</code> and saves the corresponding HTML files in <code>docs/</code>. It sets the same seed before running every file so that any function that generates random data (e.g. permutations) is reproducible. Furthermore, each file is built in its own external R session to avoid any potential conflicts between analyses (e.g. accidentally sharing a variable with the same name across files). Lastly, it displays the website in the RStudio Viewer or default web browser.</p>
<p>The default action of <code>wflow_build()</code> is to behave similar to a <a href="https://swcarpentry.github.io/make-novice">Makefile</a> (<code>make = TRUE</code> is the default when no input files are provided), i.e. it only builds R Markdown files that have been modified more recently than their corresponding HTML files. Thus if you run it again, no files are built (and no files are displayed).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">wflow_build</span>()</code></pre></div>
<pre><code>## Summary from wflow_build
## 
## Settings:
##  make: TRUE
## 
## No files to build</code></pre>
<p>To view the site without first building any files, run <code>wflow_view()</code>, which by default displays the file <code>docs/index.html</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">wflow_view</span>()</code></pre></div>
<p>This is how you can view your site right on your local machine. Go ahead and edit the files <code>index.Rmd</code>, <code>about.Rmd</code>, and <code>license.Rmd</code> to describe your project. Then run <code>wflow_build()</code> to re-build the HTML files and display them in the RStudio Viewer or your browser.</p>
</div>
<div id="publish-the-website" class="section level2">
<h2>Publish the website</h2>
<p>workflowr makes an important distinction between R Markdown files that are published versus unpublished. A published file is included in the website online; whereas, the HTML file of an unpublished R Markdown file is only able to be viewed on the local computer. Since the project was just started, there are no published files. To view the status of the workflowr project, run <code>wflow_status()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">wflow_status</span>()</code></pre></div>
<pre><code>## Status of 3 files
## 
## Totals:
##  3 Unpublished
## 
## The following files require attention:
## 
## Unp analysis/about.Rmd
## Unp analysis/index.Rmd
## Unp analysis/license.Rmd
## 
## Key: Unp = Unpublished
## 
## To publish your changes as part of your website, use
## `wflow_publish()`.
## 
## To commit your changes without publishing them yet, use
## `wflow_git_commit()`.</code></pre>
<p>This alerts us that our project has 3 R Markdown files, and they are all unpublished (“Unp”). Furthermore, it instructs how to publish them: use <code>wflow_publish()</code>. The first argument to <code>wflow_publish()</code> is a character vector of the R Markdown files to publish <a href="#fn3" class="footnoteRef" id="fnref3"><sup>3</sup></a>. The second is a message that will recorded by the version control system Git when it commits (i.e. saves a snapshot of) these files. The more informative the commit message the better (so that future you knows what you were trying to accomplish).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">wflow_publish</span>(<span class="kw">c</span>(<span class="st">&quot;analysis/index.Rmd&quot;</span>, <span class="st">&quot;analysis/about.Rmd&quot;</span>, <span class="st">&quot;analysis/license.Rmd&quot;</span>),
              <span class="st">&quot;Publish the initial files for myproject&quot;</span>)</code></pre></div>
<pre><code>## Building 3 file(s):</code></pre>
<pre><code>## Building analysis/index.Rmd</code></pre>
<pre><code>## Building analysis/about.Rmd</code></pre>
<pre><code>## Building analysis/license.Rmd</code></pre>
<pre><code>## Summary from wflow_publish
## 
## **Step 1: Commit analysis files**
## 
## Summary from wflow_git_commit
## 
## The following was run: 
## 
##   $ git add analysis/index.Rmd analysis/about.Rmd analysis/license.Rmd 
##   $ git commit -m &quot;Publish the initial files for myproject&quot; 
## 
## The following file(s) were included in commit d558071:
## analysis/about.Rmd
## analysis/index.Rmd
## analysis/license.Rmd
## 
## **Step 2: Build HTML files**
## 
## Summary from wflow_build
## 
## Settings:
## 
## 
## The following were built externally each in their own fresh R
## session: 
## 
## docs/index.html
## docs/about.html
## docs/license.html
## 
## Log files saved in
## /private/var/folders/5b/hbjnbkkd0t957rs24vxgvw200000gn/T/RtmpkX7OLH/workflowr
## 
## **Step 3: Commit HTML files**
## 
## Summary from wflow_git_commit
## 
## The following was run: 
## 
##   $ git add docs/index.html docs/about.html docs/license.html docs/figure/index.Rmd docs/figure/about.Rmd docs/figure/license.Rmd docs/site_libs 
##   $ git commit -m &quot;Build site.&quot; 
## 
## The following file(s) were included in commit a2f5c25:
## docs/about.html
## docs/index.html
## docs/license.html
## docs/site_libs/bootstrap-3.3.5/
## docs/site_libs/font-awesome-4.5.0/
## docs/site_libs/highlightjs-9.12.0/
## docs/site_libs/jquery-1.11.3/
## docs/site_libs/navigation-1.1/</code></pre>
<p><code>wflow_publish()</code> reports the 3 steps it took:</p>
<ul>
<li><p><strong>Step 1:</strong> Commits the 3 R Markdown files using the custom commit message</p></li>
<li><p><strong>Step 2:</strong> Builds the HTML files using <code>wflow_build()</code></p></li>
<li><p><strong>Step 3:</strong> Commits the 3 HTML files plus the files that specify the style of the website (e.g. CSS and Javascript files)</p></li>
</ul>
<p>Performing these 3 steps ensures that the HTML files are always in sync with the latest versions of the R Markdown files. Performing these steps manually would be tedious and error-prone (e.g. an HTML file may have been built with an outdated version of an R Markdown file). However, <code>wflow_publish()</code> makes it easy to keep the pages of your site in sync.</p>
<p>Now when you run <code>wflow_status()</code>, it reports that all the files are published and up-to-date.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">wflow_status</span>()</code></pre></div>
<pre><code>## Status of 3 files
## 
## Totals:
##  3 Published
## 
## Files are up-to-date</code></pre>
</div>
<div id="deploy-the-website" class="section level2">
<h2>Deploy the website</h2>
<p>At this point you have built a version-controlled website that exists on your local computer. The next step is to put your code on GitHub so that it can serve your website online. To do this, login to your account on GitHub and create a new repository following these <a href="https://help.github.com/articles/creating-a-new-repository/">instructions</a>. For the purposes of this tutorial, the code below assumes that the GitHub repository also has the name “myproject.” This isn’t strictly neccesary (you can name your GitHub repository whatever you like), but it’s generally good organizational practice to use the same name for both your GitHub repository and the local directory on your computer.</p>
<p>Next you need to tell your local Git repository about this new GitHub repository. Run the <code>wflow_git_remote()</code> command below in the R console, replacing “myname” with your GitHub username:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">wflow_git_remote</span>(<span class="st">&quot;origin&quot;</span>, <span class="st">&quot;myname&quot;</span>, <span class="st">&quot;myproject&quot;</span>)</code></pre></div>
<pre><code>## The repository has the following remotes set:
## 
##    name                                     url
##  origin https://github.com/myname/myproject.git</code></pre>
<p>This creates the alias “origin” that points to your remote repository on GitHub<a href="#fn4" class="footnoteRef" id="fnref4"><sup>4</sup></a>. You only need to run this command once to add the remote repository.</p>
<p>Now you can push your files to GitHub with the function <code>wflow_git_push()</code><a href="#fn5" class="footnoteRef" id="fnref5"><sup>5</sup></a>. Run the following in the R console:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">wflow_git_push</span>(<span class="dt">dry_run =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## Summary from wflow_git_push
## 
## Pushing to the branch &quot;master&quot; of the remote repository &quot;origin&quot; 
## 
## The following Git command would be run:
## 
##   $ git push origin master</code></pre>
<p>Using <code>dry_run = TRUE</code> previews what the function will do. Remove this argument to actually push to GitHub. You will be prompted to enter your GitHub username and password for authentication<a href="#fn6" class="footnoteRef" id="fnref6"><sup>6</sup></a>. Each time you make changes to your project, e.g. run <code>wflow_publish()</code>, you will need to run <code>wflow_git_push()</code> to send the changes to GitHub.</p>
<p>Now that your code is on GitHub, you need to tell GitHub that you want the files in <code>docs/</code> to be published as a website. Go to Settings -&gt; GitHub Pages and choose “master branch docs/ folder” as the Source (<a href="https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/#publishing-your-github-pages-site-from-a-docs-folder-on-your-master-branch">instructions</a>). Using the hypothetical names above, the repository would be hosted at the URL <code>myname.github.io/myproject/</code><a href="#fn7" class="footnoteRef" id="fnref7"><sup>7</sup></a>. If you scroll back down to the GitHub Pages section of the Settings page, you can click on the URL there.</p>
</div>
<div id="add-a-new-analysis-file" class="section level2">
<h2>Add a new analysis file</h2>
<p>Now that you have a functioning website, the next step is to start analyzing data! Create a new R Markdown file, save it as <code>analysis/first-analysis.Rmd</code>, and open it in your preferred text editor (e.g. RStudio). For the purpose of this vignette, the code below creates a minimal file that only contains a title:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">cat</span>(<span class="dt">file =</span> <span class="st">&quot;analysis/first-analysis.Rmd&quot;</span>,
<span class="st">&quot;---</span>
<span class="st">title: 'First analysis'</span>
<span class="st">---&quot;</span>)</code></pre></div>
<p>Now you are ready to start writing! Go ahead and add some example code. If you are using RStudio, press the Knit button to build the file and see a preview in the Viewer pane. Alternatively from the R console, you can run <code>wflow_build()</code> again (this function can be run from the base directory of your project or any subdirectory).</p>
<p>Check out your new file <code>first-analysis.html</code>. Near the top you will see the workflowr reproducibility report. You can click on any of the bullet points to learn more about the check, why it’s important, and whether or not the file passed or failed. You’ll notice that the first check failed because the R Markdown file had uncommitted changes. This is OK now since the file is a draft. Once you are ready to publish it to share with others, you can use <code>wflow_publish()</code> to ensure that any changes to the R Markdown file are committed to the Git repository prior to generating the results.</p>
<p>In order to make it easier to navigate to your new file, you can include a link to it on the main index page. First open <code>analysis/index.Rmd</code>. Second paste the following line into <code>index.Rmd</code>:</p>
<pre><code>Click on this [link](first-analysis.html) to see my results.</code></pre>
<p>This uses the Markdown syntax for creating a hyperlink (for a quick reference guide in RStudio click “Help” -&gt; “Markdown Quick Reference”). You specify the HTML version of the file since this is what comprises the website. Click Knit (or run <code>wflow_build()</code> again) to check that the link works.</p>
<p>Now run <code>wflow_status()</code> again. As expected, two files need attention. <code>index.Rmd</code> has status “Mod” for modified. This means it is a published file that has subsequently been modified. <code>first-analysis.Rmd</code> has status “Scr” for Scratch. This means not only is the HTML not published, but the R Markdown file is not yet being tracked by Git.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">wflow_status</span>()</code></pre></div>
<pre><code>## Status of 4 files
## 
## Totals:
##  3 Published (1 Modified)
##  1 Scratch
## 
## The following files require attention:
## 
## Mod analysis/index.Rmd
## Scr analysis/first-analysis.Rmd
## 
## Key: Mod = Modified, Scr = Scratch (Untracked)
## 
## To publish your changes as part of your website, use
## `wflow_publish()`.
## 
## To commit your changes without publishing them yet, use
## `wflow_git_commit()`.</code></pre>
<p>To publish the new analysis and the updated index page, again use <code>wflow_publish()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">wflow_publish</span>(<span class="kw">c</span>(<span class="st">&quot;analysis/index.Rmd&quot;</span>, <span class="st">&quot;analysis/first-analysis.Rmd&quot;</span>),
              <span class="st">&quot;Add my first analysis&quot;</span>)</code></pre></div>
<pre><code>## Building 2 file(s):</code></pre>
<pre><code>## Building analysis/index.Rmd</code></pre>
<pre><code>## Building analysis/first-analysis.Rmd</code></pre>
<pre><code>## Summary from wflow_publish
## 
## **Step 1: Commit analysis files**
## 
## Summary from wflow_git_commit
## 
## The following was run: 
## 
##   $ git add analysis/index.Rmd analysis/first-analysis.Rmd 
##   $ git commit -m &quot;Add my first analysis&quot; 
## 
## The following file(s) were included in commit f79333b:
## analysis/first-analysis.Rmd
## analysis/index.Rmd
## 
## **Step 2: Build HTML files**
## 
## Summary from wflow_build
## 
## Settings:
## 
## 
## The following were built externally each in their own fresh R
## session: 
## 
## docs/index.html
## docs/first-analysis.html
## 
## Log files saved in
## /private/var/folders/5b/hbjnbkkd0t957rs24vxgvw200000gn/T/RtmpkX7OLH/workflowr
## 
## **Step 3: Commit HTML files**
## 
## Summary from wflow_git_commit
## 
## The following was run: 
## 
##   $ git add docs/index.html docs/first-analysis.html docs/figure/index.Rmd docs/figure/first-analysis.Rmd docs/site_libs 
##   $ git commit -m &quot;Build site.&quot; 
## 
## The following file(s) were included in commit 5e3a040:
## docs/first-analysis.html
## docs/index.html
## docs/site_libs/jqueryui-1.11.4/
## docs/site_libs/tocify-1.9.1/</code></pre>
<p>Lastly, push the changes to GitHub with <code>wflow_git_push()</code><a href="#fn8" class="footnoteRef" id="fnref8"><sup>8</sup></a> to deploy these latest changes to the website.</p>
</div>
<div id="the-workflow" class="section level2">
<h2>The workflow</h2>
<p>This is the general workflow:</p>
<ol style="list-style-type: decimal">
<li><p>Open a new or existing R Markdown file in <code>analysis/</code></p></li>
<li><p>Perform your analysis in the R Markdown file (For RStudio users: to quickly develop the code I recommend executing the code in the R console via Ctrl-Enter to send one line or Ctrl-Alt-C to execute the entire code chunk)</p></li>
<li><p>Run <code>wflow_build()</code> to view the results as they will appear on the website (alternatively press the Knit button in RStudio)</p></li>
<li><p>Go back to step 2 until you are satisfied with the result</p></li>
<li><p>Run <code>wflow_publish()</code> to commit the source files (R Markdown files or other files in <code>code/</code>, <code>data/</code>, and <code>output/</code>), build the HTML files, and commit the HTML files</p></li>
<li><p>Push the changes to GitHub with <code>wflow_git_push()</code> (or <code>git push</code> in the Terminal)</p></li>
</ol>
<p>This ensures that the “Code version:” inserted into each HTML file corresponds to the state of the Git repository at the time the HTML was built.</p>
<p>The only exception to this workflow is if you are updating the aesthetics of your website (e.g. anytime you make edits to <code>analysis/_site.yml</code>). In this case you’ll want to update all the published HTML files, regardless of whether or not their corresponding R Markdown files have been updated. To republish every HTML page, run <code>wflow_publish()</code> with <code>republish = TRUE</code>. This behavior is only previewed below by specifying <code>dry_run = TRUE</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">wflow_publish</span>(<span class="st">&quot;analysis/_site.yml&quot;</span>, <span class="dt">republish =</span> <span class="ot">TRUE</span>, <span class="dt">dry_run =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## Summary from wflow_publish
## 
## **Step 1: Commit analysis files**
## 
## Summary from wflow_git_commit
## 
## The following would be attempted: 
## 
##   $ git add analysis/_site.yml 
##   $ git commit -m &quot;wflow_publish(\&quot;analysis/_site.yml\&quot;, republish = TRUE, dry_run =\nTRUE)&quot; 
## 
## **Step 2: Build HTML files**
## 
## Summary from wflow_build
## 
## Settings:
##  republish: TRUE
## 
## The following would be built externally each in their own fresh R
## session: 
## 
## docs/about.html
## docs/first-analysis.html
## docs/index.html
## docs/license.html
## 
## **Step 3: Commit HTML files**
## 
## Summary from wflow_git_commit
## 
## The following would be attempted: 
## 
##   $ git add docs/about.html docs/first-analysis.html docs/index.html docs/license.html docs/figure/about.Rmd docs/figure/first-analysis.Rmd docs/figure/index.Rmd docs/figure/license.Rmd docs/site_libs 
##   $ git commit -m &quot;Build site.&quot;</code></pre>
</div>
<div id="next-steps" class="section level2">
<h2>Next steps</h2>
<p>To learn more about workflowr, you can read the following vignettes:</p>
<ul>
<li><a href="wflow-02-customization.html">Customize your research website</a></li>
<li><a href="wflow-03-migrating.html">Migrating an existing project to use workflowr</a></li>
<li><a href="wflow-04-how-it-works.html">How the workflowr package works</a></li>
<li><a href="wflow-05-faq.html">Frequently asked questions</a></li>
</ul>
</div>
<div id="further-reading" class="section level2">
<h2>Further reading</h2>
<ul>
<li>For advice on using R Markdown files to organize your analysis, read the chapter <a href="http://r4ds.had.co.nz/r-markdown-workflow.html">R Markdown workflow</a> in the book <a href="http://r4ds.had.co.nz/">R for Data Science</a> by Garrett Grolemund and Hadley Wickham</li>
</ul>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>There are many ways to use Git: in the Terminal, in the RStudio Git pane, or another Git graphical user interface (GUI) (see <a href="https://git-scm.com/download/gui/linux">here</a> for GUI options).<a href="#fnref1">↩</a></p></li>
<li id="fn2"><p>If you’re using RStudio, you can alternatively create a new workflowr project using the RStudio project template. Go to <code>File</code> -&gt; <code>New Project...</code> and select <code>workflowr project</code> from the list of project types. In the future you can return to your project by choosing <code>Open Project...</code> and selecting the file <code>myproject.Rproj</code>. This will set the correct working directory in the R console, switch the file navigator to the project, and configure the Git pane.<a href="#fnref2">↩</a></p></li>
<li id="fn3"><p>Instead of listing each file individually, you can also pass <a href="https://en.wikipedia.org/wiki/Glob_(programming)">file globs</a> as input to any workflowr function, e.g. <code>wflow_publish(&quot;analysis/*Rmd&quot;, &quot;Publish the initial files for myproject&quot;)</code>.<a href="#fnref3">↩</a></p></li>
<li id="fn4"><p>“origin” is the conventional name, but could be anything you wanted.<a href="#fnref4">↩</a></p></li>
<li id="fn5"><p>Unfortunately this can fail for many different reasons. If you already regularly use <code>git push</code> in the Terminal, you will probably want to continue using this. If you don’t have Git installed on your computer and thus must use <code>wflow_git_push()</code>, you can search the <a href="https://github.com/ropensci/git2r/issues">git2r Issues</a> for troubleshooting ideas.<a href="#fnref5">↩</a></p></li>
<li id="fn6"><p>If you’d prefer to use SSH keys for authentication, please see the section <a href="wflow-02-customization.html#setup-ssh-keys">Setup SSH keys</a>.<a href="#fnref6">↩</a></p></li>
<li id="fn7"><p>It may take a few minutes for the site to be rendered.<a href="#fnref7">↩</a></p></li>
<li id="fn8"><p>Alternatively you can run <code>git push</code> in the Terminal or use the RStudio Git Pane.<a href="#fnref8">↩</a></p></li>
</ol>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
